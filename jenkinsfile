pipeline{
    agent any
    tools {
        nodejs 'nodejs'
    }
     stages{
     stage('clone'){
        steps{ git 'https://github.com/marie-natalie/gallery.git'}
     }
     stage('installing dependencies'){
        steps{ sh 'npm install'}
     }
     stage(test){
        steps{ sh 'npm test'}
     }
     }
        post {
        success {
            script {
                slackSend(
                    color: 'danger', 
                    message: "Deployment was successful!\nBuild ID: ${BUILD_ID}\nRender Link: ${RENDER_LINK}",
                    channel: '#marie_ip1' 
                )
            }
        }
    }
}